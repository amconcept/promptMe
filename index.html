<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RANDO CALRISIAN</title>
    <link href="https://fonts.googleapis.com/css2?family=VT323&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --theme-bg: #000080;
            --theme-text: #FFFFFF;
            --theme-primary: #FFFFFF;
            --theme-accent: #C0C0C0;
        }

        body {
            margin: 0;
            padding: 0;
            overflow: hidden;
            font-family: 'VT323', monospace;
            background-color: var(--theme-bg);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            width: 100vw;
            position: fixed;
            top: 0;
            left: 0;
            transition: background-color 0.3s ease;
        }

        .container {
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            position: relative;
            z-index: 2;
        }

        h1 {
            color: var(--theme-primary);
            font-size: clamp(60px, 15vw, 180px);
            margin-bottom: 20px;
            font-family: 'VT323', monospace;
            text-transform: uppercase;
            letter-spacing: 8px;
            line-height: 1.1;
            font-weight: normal;
            transition: color 0.3s ease;
        }

        .subtitle {
            color: var(--theme-text);
            font-size: clamp(24px, 4vw, 48px);
            margin-bottom: 60px;
            font-family: 'VT323', monospace;
            letter-spacing: 3px;
            transition: color 0.3s ease;
        }

        .buttons {
            display: flex;
            gap: 20px;
            margin-top: 40px;
        }

        button {
            font-family: 'VT323', monospace;
            padding: 12px 24px;
            border: 2px outset var(--theme-accent);
            border-top-color: var(--theme-primary);
            border-left-color: var(--theme-primary);
            border-bottom-color: rgba(0, 0, 0, 0.4);
            border-right-color: rgba(0, 0, 0, 0.4);
            border-radius: 0;
            font-size: clamp(28px, 3vw, 40px);
            cursor: pointer;
            text-transform: uppercase;
            letter-spacing: 4px;
            color: var(--theme-text);
            background-color: var(--theme-bg);
            transition: all 0.1s ease;
        }

        button:active {
            border: 2px inset var(--theme-accent);
            border-top-color: rgba(0, 0, 0, 0.4);
            border-left-color: rgba(0, 0, 0, 0.4);
            border-bottom-color: var(--theme-primary);
            border-right-color: var(--theme-primary);
            transform: translate(1px, 1px);
        }

        .edit:hover {
            filter: brightness(1.2);
        }

        .theme-image {
            position: fixed;
            bottom: 20px;
            left: 20px;
            width: clamp(120px, 15vw, 200px);
            height: auto;
            z-index: 10;
            opacity: 0.9;
            transition: opacity 0.3s ease, fill 0.3s ease;
        }

        .theme-image:hover {
            opacity: 1;
        }

        .theme-image svg {
            width: 100%;
            height: 100%;
        }

        .theme-image polygon {
            fill: var(--theme-primary);
            transition: fill 0.3s ease;
        }
    </style>
    <script>
        // Theme definitions matching theme-manager.js
        const themes = {
            orangeCRT: {
                bg: '#1A0A00',
                text: '#FF8800',
                primary: '#FF8800',
                accent: '#FFAA55'
            },
            blueCRT: {
                bg: '#000011',
                text: '#00BFFF',
                primary: '#00BFFF',
                accent: '#87CEEB'
            },
            windows: {
                bg: '#000080',
                text: '#FFFFFF',
                primary: '#FFFFFF',
                accent: '#C0C0C0'
            },
            greenCRT: {
                bg: '#001100',
                text: '#00FF00',
                primary: '#00FF00',
                accent: '#66FF66'
            },
            purpleCRT: {
                bg: '#110011',
                text: '#BF00FF',
                primary: '#BF00FF',
                accent: '#DDA0DD'
            },
            pinkCRT: {
                bg: '#1A000A',
                text: '#FF1493',
                primary: '#FF1493',
                accent: '#FFB6C1'
            },
            macintosh: {
                bg: '#F5F5F5',
                text: '#000000',
                primary: '#000000',
                accent: '#404040'
            },
            black: {
                bg: '#000000',
                text: '#FFFFFF',
                primary: '#FFFFFF',
                accent: '#CCCCCC'
            }
        };

        // Theme migration for old theme names
        const themeMigration = {
            'orange': 'orangeCRT',
            'green': 'greenCRT',
            'blue': 'blueCRT',
            'purple': 'purpleCRT',
            'pink': 'pinkCRT',
            'white': 'macintosh'
        };

        // Apply theme to index page
        function applyTheme(themeName) {
            // Migrate old theme names
            if (themeMigration[themeName]) {
                themeName = themeMigration[themeName];
            }

            const theme = themes[themeName] || themes.windows; // Default to windows if not found
            const root = document.documentElement;
            
            root.style.setProperty('--theme-bg', theme.bg);
            root.style.setProperty('--theme-text', theme.text);
            root.style.setProperty('--theme-primary', theme.primary);
            root.style.setProperty('--theme-accent', theme.accent);
            
            // Apply theme-specific image styling
            applyImageTheme(themeName, theme);
        }

        // Apply theme-specific styling to the image
        function applyImageTheme(themeName, theme) {
            // The SVG fill color is now controlled by CSS variable --theme-primary
            // which is already set in applyTheme(), so no additional work needed here
        }

        // Load saved theme from localStorage
        function loadTheme() {
            let savedTheme = localStorage.getItem('selectedTheme');
            
            // Migrate old theme names
            if (savedTheme && themeMigration[savedTheme]) {
                savedTheme = themeMigration[savedTheme];
                localStorage.setItem('selectedTheme', savedTheme);
            }
            
            // Default to windows theme if no theme saved
            if (!savedTheme) {
                savedTheme = 'windows';
            }
            
            applyTheme(savedTheme);
        }

        // Apply theme immediately on page load
        loadTheme();
    </script>
</head>
<body>
    <div class="theme-image">
        <svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 85.58 103.39">
            <polygon points="66.93 20.06 66.93 13.56 64.77 13.56 63.17 13.56 63.17 9.8 59.99 9.8 59.99 7.14 55.27 7.14 53.35 7.14 53.35 4.11 51.5 4.11 51.5 3.37 47.74 3.37 43.97 3.37 40.2 3.37 40.2 4.11 36.96 4.11 36.96 7.14 33.87 7.14 33.87 9.8 30.11 9.8 30.11 13.56 27.13 13.56 27.13 20.06 26.34 20.06 26.34 21.8 24.85 21.8 24.85 23.83 24.37 23.83 24.37 39.7 24.37 49.76 27.13 49.76 27.13 53.17 30.4 53.17 30.4 46.36 27.63 46.36 27.63 39.7 30.9 39.7 30.9 30.18 33.37 30.18 33.37 27.59 33.87 27.59 33.87 23.83 63.17 23.83 63.17 26.41 63.17 27.59 63.17 29.07 63.17 33.94 63.17 36.6 67.34 36.6 67.34 33.94 70.7 33.94 70.7 27.59 70.7 26.41 70.7 20.06 66.93 20.06"/>
            <polygon points="66.78 67.67 66.78 66.23 60.13 66.23 60.13 62.85 56.54 62.85 56.54 66.23 49.8 66.23 49.8 76.16 43.97 76.16 43.97 69.53 29.75 69.53 29.75 56.27 22.93 56.27 22.93 59.82 20.82 59.82 20.82 61.15 17.41 61.15 17.41 66.23 14 66.23 14 69.53 10.6 69.53 10.6 79.53 14 79.53 14 85.94 17.41 85.94 17.41 90.23 24.23 90.23 24.23 89.26 30.73 89.26 30.73 85.94 34.04 85.94 34.04 82.79 43.97 82.79 43.97 82.78 46.85 82.78 46.85 89.26 48.53 89.26 48.53 100.91 52.12 100.91 52.12 89.26 53.48 89.26 53.48 82.78 53.48 82.63 53.48 79.49 63.19 79.49 63.19 82.63 66.45 82.63 66.45 89.33 70.04 89.33 70.04 74.36 66.78 74.36 66.78 67.67"/>
            <polygon points="53.68 39.7 59.99 39.7 59.99 36.6 53.67 36.6 53.67 37.59 51.56 37.59 51.56 39.7 53.67 39.7 53.68 39.7"/>
            <polygon points="43.52 37.59 38.39 37.59 38.39 39.98 43.52 39.98 44.03 39.98 46.92 39.98 46.92 36.88 43.52 36.88 43.52 37.59"/>
            <polygon points="49.8 50.07 46.92 50.07 46.92 53.17 40.2 53.17 40.2 56.27 56.83 56.27 56.83 53.17 53.2 53.17 53.2 50.07 50.33 50.07 49.8 50.07"/>
        </svg>
    </div>
    <div class="container">
        <h1>RANDO CALRISIAN</h1>
        <p class="subtitle">A prompting tool for humans.</p>
        <div class="buttons">
            <button class="edit" onclick="window.location.href='editor.html'">Design your prompts</button>
        </div>
    </div>
</body>
</html>